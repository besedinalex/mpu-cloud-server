<!DOCTYPE html>
<html lang="ru">

<head>
    <title>Просмотр</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">


</head>

<body>
    <div id="viewer"></div>
    <div id="spin">
        <div class="text-center" style="margin-top: 20%">
            <div style="width: 3rem; height: 3rem;" class="spinner-border" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <p style="margin-top: 8px" id="completed">Загрузка модели..</p>
        </div>
    </div>

    <div id="new-point">

        <div id="main">
            <button onclick="window.location.href = '/'" class="openbtn" data-toggle="tooltip" data-placement="right"
                title="На главную">
                <i class="fas fa-home"></i>
            </button>
            <button class="openbtn" onclick="spoilers('ti','');" data-toggle="tooltip" data-placement="right"
                title="Помощь"><i class="fas fa-question"></i>

            </i>

                </i></button>
            <br>

            <button class="openbtn" id="annotationMode" onclick="spoilers('t1','annotationMode');" data-toggle="tooltip"
                data-placement="right" title="Аннотации"><i class="far fa-comment-alt"></i>


            </button>
            <button class="openbtn" id="clipping" onclick="spoilers('t2','clipping');" data-toggle="tooltip"
                data-placement="right" title="Сечения"> <i class="fas fa-cut"></i>


            </button>
            <button class="openbtn" id="spacing" onclick="spoilers('t3','')" data-toggle="tooltip"
                data-placement="right" title="Разнос"><i class="fas fa-bomb"></i>

            </button>
            <button class="openbtn" id="showAll" onclick="spoilers('','')" data-toggle="tooltip" data-placement="right"
                title="Восстановление видимости всех объектов"><i class="fas fa-eye"></i>

            </button>
            <button class="openbtn" id="rotation" onclick="spoilers('','')" data-toggle="tooltip" data-placement="right"
                title="Вращение модели"><i class="fas fa-sync-alt"></i></button>

        </div>

        <script>
            function openNav() {
                document.getElementById("mySidebar").style.width = "300px";
                document.getElementById("main").style.marginLeft = "280px";
                document.getElementById("button").style.marginLeft = "-1500px";
            }

            function closeNav() {
                document.getElementById("mySidebar").style.width = "0";
                document.getElementById("main").style.marginLeft = "0";
                document.getElementById("button").style.marginLeft = "0px";
            }
        </script>
    </div>
    <div id="spoilers">
        <span id="ti" class="spoilerN">
            <p>
                <ul>
                    <li>
                        <p>Видимость детали: H + ЛКМ</p>
                    </li>
                    <li>
                        <p>Прозрачность детали: О + ЛКМ</p>
                    </li>
                    <li>
                        <p>Выделить деталь: Shift +ЛКМ</p>
                    </li>
                    <li>
                        <p>Фокус на детали: ЛКМ х2</p>
                    </li>
                </ul>
            </p>
        </span>
        <span id="t1" class="spoilerN">
            <label for="clipX">Аннотации</label>
            <input type="text" id="name" class="form-control" placeholder="Имя аннотации">
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" maxlength="255"
                placeholder="Текст аннотации..."></textarea>
            <hr>
            <p><i>Введите название и текст аннотации, после чего нажмите на часть модели, к которой хотите добавить
                    аннотацию</i></p>
            <!-- <label for="index">Номер аннотации</label>
            <input type="number" id="index" class="form-control" placeholder="0">
            <button id="remove" class="btn btn-primary btn-rounded">Удалить</button> -->
        </span>
        <span id='t2' class="spoilerN">
            <label for="clipX">Сечение вдоль оси X</label>
            <input id="clipX" class="form-control-range" type="range" step="0.1">
            <input class="form-check-input" type="checkbox" value="" id="clipXCheck">
            <label class="form-check-label" for="clipXCheck">
                Направление вдоль Х
            </label>
            <label for="clipY">Сечение вдоль оси Y</label>
            <input id="clipY" class="form-control-range" type="range" step="0.1">
            <input class="form-check-input" type="checkbox" value="" id="clipYCheck">
            <label class="form-check-label" for="clipYCheck">
                Направление вдоль Y
            </label>
            <label for="clipZ">Сечение вдоль оси Z</label>
            <input id="clipZ" class="form-control-range" type="range" step="0.1">
            <input class="form-check-input" type="checkbox" value="" id="clipZCheck">
            <label class="form-check-label" for="clipZCheck">
                Направление вдоль Z
            </label>
            <hr>
            <p><i>Передвигайте ползунок, чтобы рассечь модель в определенном направлении, при необходимости поменяйте
                    направление сечения</i></p>
        </span>

        <span id="t3" class="spoilerN">
            <label for="spacingRate">Степень разноса</label>
            <input id="spacingRate" class="form-control-range" type="range" step="0.1">
        </span>

        </span>
    </div>

    <!--  XeoGL -->
    <script src="js/XeoGL/xeogl.js"></script>
    <script src="js/XeoGL/glTFModel.js"></script>
    <script src="js/XeoGL/STLModel.js"></script>
    <script src="js/XeoGL/planeHelper.js"></script>
    <script src="js/XeoGL/clipHelper.js"></script>
    <script src="js/XeoGL/vectorTextGeometry.js"></script>
    <script src="js/XeoGL/pin.js"></script>
    <script src="js/XeoGL/skybox.js"></script>

    <script src="js/XeoGL/annotation.js"></script>
    <link href="js/XeoGL/annotation-style.css" rel="stylesheet" />
    <!-- /XeoGL -->

    <!--  Ex -->
    <script src="js/extentions/annotation.js"></script>
    <script src="js/extentions/highlight.js"></script>
    <script src="js/extentions/hideParts.js"></script>
    <script src="js/extentions/spacing.js"></script>
    <script src="js/extentions/presentation.js"></script>
    <script src="js/extentions/opacity.js"></script>
    <script src="js/extentions/clipping.js"></script>
    <script src="js/extentions/guide.js"></script>
    <!-- /Ex -->

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
        </script>

    <!-- Viewer script -->
    <script>
        var gltf = JSON.parse(atob('<%= model %>'));
    </script>
    <script src="js/script.js"></script>
    <!--/Viewer script -->

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
        </script>


</body>

</html>